<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] First time user: Some questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20First%20time%20user%3A%20Some%20questions&In-Reply-To=%3Ca037f7360902271053p7b7a10afy601acbec51ee3b62%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001439.html">
   <LINK REL="Next"  HREF="001437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] First time user: Some questions</H1>
    <B>John Hendy</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20First%20time%20user%3A%20Some%20questions&In-Reply-To=%3Ca037f7360902271053p7b7a10afy601acbec51ee3b62%40mail.gmail.com%3E"
       TITLE="[zfs-discuss] First time user: Some questions">jw.hendy at gmail.com
       </A><BR>
    <I>Fri Feb 27 10:53:58 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001439.html">[zfs-discuss] First time user: Some questions
</A></li>
        <LI>Next message: <A HREF="001437.html">[zfs-discuss] Asked for Admin password
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1441">[ date ]</a>
              <a href="thread.html#1441">[ thread ]</a>
              <a href="subject.html#1441">[ subject ]</a>
              <a href="author.html#1441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Feb 27, 2009 at 11:40 AM, Harald Hanche-Olsen
&lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">hanche at math.ntnu.no</A>&gt;wrote:

&gt;<i> + Robert Muench &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">robert.muench at gmail.com</A>&gt;:
</I>&gt;<i>
</I>&gt;<i> &gt; 1. Datapool / Datasets: I have created one pool but no explicit
</I>&gt;<i> &gt; dataset. I read something about datasets but I'm not sure for what
</I>&gt;<i> &gt; these are. Is a dataset like a parition inside a ZFS pool?
</I>&gt;<i>
</I>&gt;<i> Somewhat. They are filesystems. You create and manage them using the
</I>&gt;<i> zfs command. The top-level filesystem has the same name as the pool
</I>&gt;<i> and is automatically created when you create the pool. But they are
</I>&gt;<i> better than partitions, because you don't give them a predefined
</I>&gt;<i> size. Any of them can grow to occupy all free space, after which none
</I>&gt;<i> of them can grow until you delete something.
</I>&gt;<i>
</I>&gt;<i> One reason for having several filesystems on the pool is that you can
</I>&gt;<i> take individual snapshots. There may be some data that you wish to
</I>&gt;<i> snapshot every day, and others that you'd rather not.
</I>&gt;<i>
</I>&gt;<i> &gt; 4. Is there anything I need to consider or take care about while
</I>&gt;<i> &gt; using the ZFS volume? Or can I just use it like every other drive?
</I>&gt;<i>
</I>&gt;<i> You should be fine using it like any drive, except as you have found
</I>&gt;<i> out zfs is not so very well integrated with everything mac yet.
</I>&gt;<i>
</I>&gt;<i> - Harald
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>&gt;<i>
</I>

One thing I've found that I have not solved yet is how to share my zfs pool
[well] with FreeBSD, which I dual boot. To correctly do this, at least as
far as I've figured out, the zpool likes to be exported from the current OS
before rebooting to the other. The problem is that my Users folder is on
zfs, so I can't export it while I'm logged in. I briefly looked at creating
a logout hook via this site: <A HREF="http://www.bombich.com/mactips/loginhooks.html,">http://www.bombich.com/mactips/loginhooks.html,</A>
but trying to execute the script stalled my logout, so I gave up on that. If
I logout and back in as another user with admin privileges, I can 'sudo
diskutil umount /Volumes/pool' and then 'zpool export pool' and then reboot,
and do 'zpool import pool' in FreeBSD just fine. If I don't export before
rebooting, FreeBSD tells me that it looks like it's in use. If I force it,
it wants to scrub the pool before playing nice again. I realize this isn't
exactly what you were looking for, but in the event you ever dual boot, it's
an added issue.

I also think that mounting is goofy in OS X with zfs. Every pool/filesystem
should be handled by zfs, but to do certain things, you have to unmount it
before you can 'zfs unmount' it. It's like the mounting of OS X prevents zfs
from doing it's thing. I just might not know what I'm doing though...

I currently only have one pool/filesystem. It's mounted at /Volumes/pool and
I put a symlink in /Users/ to it. I changed the location of my Users folder
for my user via the system preferences to be /Volumes/pool, but having the
symlink is nice since I'm so used to going to /Users/me, not
/Volumes/pool... I may just decide to keep my 'data' folder separate from my
OS X Users folder so that I can unmount/export it when I'm done. OS X just
needs my Users folder, and I don't care about accessing that from FreeBSD,
just my docs, pics, code, etc.

Maybe this is not what you're looking for... but these are my thoughts!

- John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090227/e6a53e6f/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090227/e6a53e6f/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001439.html">[zfs-discuss] First time user: Some questions
</A></li>
	<LI>Next message: <A HREF="001437.html">[zfs-discuss] Asked for Admin password
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1441">[ date ]</a>
              <a href="thread.html#1441">[ thread ]</a>
              <a href="subject.html#1441">[ subject ]</a>
              <a href="author.html#1441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
