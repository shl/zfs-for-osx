<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] No space left on device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20No%20space%20left%20on%20device&In-Reply-To=F47F4460-E7BF-44A3-A70A-DA9354212EEC%40inius.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000697.html">
   <LINK REL="Next"  HREF="000699.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] No space left on device</H1>
    <B>James Blackburn</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20No%20space%20left%20on%20device&In-Reply-To=F47F4460-E7BF-44A3-A70A-DA9354212EEC%40inius.com"
       TITLE="[zfs-discuss] No space left on device">jamesblackburn at gmail.com
       </A><BR>
    <I>Fri Jul 18 12:31:53 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000697.html">[zfs-discuss] No space left on device
</A></li>
        <LI>Next message: <A HREF="000699.html">[zfs-discuss] No space left on device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Everything is online and working fine according tot he above. It also
</I>&gt;<i> says I have about 30 gig available.
</I>
It's likely that the disk usage listing is out of sync with what's
actually stored.  If you do a du of the disk, you'd probably find that
the space was accounted for.

&gt;<i> However I am getting the &quot;No space left on device&quot; error when I try to
</I>&gt;<i> copy anything new on to the drive.
</I>&gt;<i>
</I>&gt;<i> And more importantly I am also getting this when I try and delete (rm -
</I>&gt;<i> rf) anything off the drive to make more room.
</I>
So I believe this is one of the fun features of ZFS.  As it's
copy-on-write, it writes new bits of tree before dereferencing all
bits.  Deleting therefore requires some space available...  What you
could do is to open one of your game files delete all the content,
save, then perform your rm -r.

Cheers,

James
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000697.html">[zfs-discuss] No space left on device
</A></li>
	<LI>Next message: <A HREF="000699.html">[zfs-discuss] No space left on device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#698">[ date ]</a>
              <a href="thread.html#698">[ thread ]</a>
              <a href="subject.html#698">[ subject ]</a>
              <a href="author.html#698">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
