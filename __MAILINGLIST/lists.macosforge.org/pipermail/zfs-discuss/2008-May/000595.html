<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Re: simpler approach for reproducing files-in-limbo
	problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20Re%3A%20simpler%20approach%20for%20reproducing%20files-in-limbo%0A%09problem&In-Reply-To=33644d3c0805111840w51eb869v6b0805bb43f06a16%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000594.html">
   <LINK REL="Next"  HREF="000599.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Re: simpler approach for reproducing files-in-limbo
	problem</H1>
    <B>James Snyder</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20Re%3A%20simpler%20approach%20for%20reproducing%20files-in-limbo%0A%09problem&In-Reply-To=33644d3c0805111840w51eb869v6b0805bb43f06a16%40mail.gmail.com"
       TITLE="[zfs-discuss] Re: simpler approach for reproducing files-in-limbo
	problem">jbsnyder at gmail.com
       </A><BR>
    <I>Mon May 12 05:13:26 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000594.html">[zfs-discuss] simpler approach for reproducing files-in-limbo
	problem
</A></li>
        <LI>Next message: <A HREF="000599.html">[zfs-discuss] simpler approach for reproducing files-in-limbo	problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This command alone is currently giving me that failure consistently now:
bonnie++ -b -n 50 -s 0 -x 100

On Sun, May 11, 2008 at 8:40 PM, James Snyder &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">jbsnyder at gmail.com</A>&gt; wrote:

&gt;<i> I've been able to reproduce the issue I've been having with files
</I>&gt;<i> sometimes going into something of a limbo state, using bonnie++'s
</I>&gt;<i> create/stat/delete files routine.
</I>&gt;<i> I don't get a failure every time, but if I kickstart a few of them with
</I>&gt;<i> the following options, I usually get a failure after a few tries:
</I>&gt;<i>
</I>&gt;<i> bonnie++ -b -n 100 -s 0
</I>&gt;<i>
</I>&gt;<i> Output:
</I>&gt;<i> Create files in sequential order...done.
</I>&gt;<i> Stat files in sequential order...done.
</I>&gt;<i> Delete files in sequential order...done.
</I>&gt;<i> Create files in random order...Can't change to directory ./Bonnie.86484
</I>&gt;<i> Cleaning up test directory after error.
</I>&gt;<i> Bonnie: drastic I/O error (rmdir): No such file or directory
</I>&gt;<i>
</I>&gt;<i> If I check after the failure:
</I>&gt;<i>
</I>&gt;<i> ls -al Bonnie.86484
</I>&gt;<i> total 36
</I>&gt;<i> drwx------   2 jsnyder  staff    2 May 11 20:31 .
</I>&gt;<i> drwxr-xr-x@ 65 jsnyder  staff  107 May 11 20:35 ..
</I>&gt;<i>
</I>&gt;<i> so the file is there, but it couldn't change to it, or delete it after
</I>&gt;<i> that failed...
</I>&gt;<i>
</I>&gt;<i> Generally the failure happens on the &quot;create files in random order&quot;
</I>&gt;<i> stage..
</I>&gt;<i>
</I>&gt;<i> Can anyone else reproduce this issue, or is it just me :-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> James Snyder
</I>&gt;<i> Biomedical Engineering
</I>&gt;<i> Northwestern University
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">jbsnyder at gmail.com</A>
</I>&gt;<i>
</I>


-- 
James Snyder
Biomedical Engineering
Northwestern University
<A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">jbsnyder at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080512/91c8ed80/attachment-0001.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080512/91c8ed80/attachment-0001.html</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000594.html">[zfs-discuss] simpler approach for reproducing files-in-limbo
	problem
</A></li>
	<LI>Next message: <A HREF="000599.html">[zfs-discuss] simpler approach for reproducing files-in-limbo	problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
