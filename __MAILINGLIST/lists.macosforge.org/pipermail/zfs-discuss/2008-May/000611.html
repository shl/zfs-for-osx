<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] new bits! zfs-117
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20new%20bits%21%20zfs-117&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000609.html">
   <LINK REL="Next"  HREF="000612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] new bits! zfs-117</H1>
    <B>No&#235;l Dellofano</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20new%20bits%21%20zfs-117&In-Reply-To="
       TITLE="[zfs-discuss] new bits! zfs-117">ndellofano at apple.com
       </A><BR>
    <I>Thu May 29 14:00:20 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000609.html">[zfs-discuss] zfs and panics
</A></li>
        <LI>Next message: <A HREF="000612.html">[zfs-discuss] new bits! zfs-117
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#611">[ date ]</a>
              <a href="thread.html#611">[ thread ]</a>
              <a href="subject.html#611">[ subject ]</a>
              <a href="author.html#611">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey everyone,

I just posted new binaries on the site for zfs-117.  Fixes included in  
this rev are:

&lt;<A HREF="rdar://problem/5906090">rdar://problem/5906090</A>&gt; ZFS should support fcntl(2) F_FULLFSYNC
&lt;<A HREF="rdar://problem/5405396">rdar://problem/5405396</A>&gt; zfs needs getdirentriesattr(2) API support  
for improved Finder performance
&lt;<A HREF="rdar://problem/5001636">rdar://problem/5001636</A>&gt; ZFS does not support chflags(2)
&lt;<A HREF="rdar://problem/5606366">rdar://problem/5606366</A>&gt; ZFS uses too much wired memory (need auto  
slab layer tuing)
&lt;<A HREF="rdar://problem/5923100">rdar://problem/5923100</A>&gt; implement vop_preallocate for ZFS


These fix a number of things.  The preallocate fix fixes the issues we  
were having with installing Firefox plugins and the like on ZFS  
volumes, so that all is happy now.  The &quot;ZFS uses too much wired  
memory&quot;  fix should fix our problems with panicking rsyncs and deep  
directory traversals.  Getdirentriesattr is used wildly by Finder so  
that helps clear up more issues as well.

Please download and try them out.  As always let me know if you have  
any issues, panicks, etc.  Especially let me know if you are still  
getting zalloc panics with rsyncs and ditto and the like.

Also, there's a bug we've just pinned down with running VMwareFusion  
on ZFS.  For some reason it's producing double fault panics.  If  
you're getting these, the only current workaround I have for you is to  
uninstall VMwareFusion.  I'm actively working on this bug, so if you  
are having issues I feel your pain.  Sit tight.

Oh, and apologies the source isn't posted yet.  Quite frankly it's  
gotten messy and I'm cleaning it up so its actually readable, so hang  
on, it will be posted soon after I clean it up a bit.

thanks everyone!!
Noel :)


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000609.html">[zfs-discuss] zfs and panics
</A></li>
	<LI>Next message: <A HREF="000612.html">[zfs-discuss] new bits! zfs-117
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#611">[ date ]</a>
              <a href="thread.html#611">[ thread ]</a>
              <a href="subject.html#611">[ subject ]</a>
              <a href="author.html#611">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
