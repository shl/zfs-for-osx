<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] ZFS volumes not showing up in Server Admin?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%20volumes%20not%20showing%20up%20in%20Server%20Admin%3F&In-Reply-To=0E078822-7607-4861-AE0A-4515E7D48068%40thinkpink.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000020.html">
   <LINK REL="Next"  HREF="000022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] ZFS volumes not showing up in Server Admin?</H1>
    <B>David Ritchie</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%20volumes%20not%20showing%20up%20in%20Server%20Admin%3F&In-Reply-To=0E078822-7607-4861-AE0A-4515E7D48068%40thinkpink.com"
       TITLE="[zfs-discuss] ZFS volumes not showing up in Server Admin?">david299792 at googlemail.com
       </A><BR>
    <I>Thu Jan 17 15:58:01 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000020.html">[zfs-discuss] ZFS volumes not showing up in Server Admin?
</A></li>
        <LI>Next message: <A HREF="000022.html">[zfs-discuss] Home on a ZFS volume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21">[ date ]</a>
              <a href="thread.html#21">[ thread ]</a>
              <a href="subject.html#21">[ subject ]</a>
              <a href="author.html#21">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bri,

Yes, I realized that after I'd sent the email. At first I thought  
maybe there was a general AFP/ZFS problem, but it seems not.

Nested file systems seem to catch Mac OS X a bit unawares. I notice  
that the pool (hence 'root' zfs fs) is listed as a volume in the  
finder and in save dialogs, but the nested volumes aren't. When I  
dragged the root pool to the sharing prefs pane it worked fine, but  
dragging one of the nested FSs (which appear in the Finder as aliases)  
doesn't seem to work - it tries to create a share with the same name  
as the pool, but I can't connect to it. Sharing a folder contained  
within the nested fs works fine though. When I connect to the shared  
pool via AFP I don't see the nested FSs at all either. Although when I  
do that with NFS to a Solaris machine with ZFS it doesn't seem to show  
the contents of nested FSs either (I just checked). You've managed to  
export nested FSs from the command line now though, so that's something.




-- David


On 17 Jan 2008, at 23:01, Brian Pinkerton wrote:

&gt;<i> Hi David,
</I>&gt;<i>
</I>&gt;<i> I was specifically asking about the &quot;Server Admin&quot; application in  
</I>&gt;<i> OSXS (it has a whole different application for specifying sharing).
</I>&gt;<i>
</I>&gt;<i> An update on that: I've found that if I specify the ZFS share points  
</I>&gt;<i> on the command line using &quot;sharing -a /Volumes/a_pool/an_fs&quot; then I  
</I>&gt;<i> can get them to show up in the UI.  The UI is buggy, but it is  
</I>&gt;<i> possible to work with the ZFS share points in the UI.
</I>&gt;<i>
</I>&gt;<i> bri
</I>&gt;<i>
</I>&gt;<i> On Jan 17, 2008, at 2:25 PM, David Ritchie wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Actually, scratch that. I just tried manually connecting to this  
</I>&gt;&gt;<i> shared ZFS volume (this is shared from the client version of Mac OS  
</I>&gt;&gt;<i> X) by selecting 'Connect to server' in the Finder and it now works  
</I>&gt;&gt;<i> fine. I think there may be something else funny (and unrelated to  
</I>&gt;&gt;<i> ZFS) going on.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 17 Jan 2008, at 22:07, David Ritchie wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I tried sharing a zfs volume via AFP. I dropped the root zfs  
</I>&gt;&gt;&gt;<i> volume onto the sharing preferences pane and set it to read and  
</I>&gt;&gt;&gt;<i> write for everyone, which seemed to work. When I accessed it from  
</I>&gt;&gt;&gt;<i> another computer, though, I couldn't see any of the files on it or  
</I>&gt;&gt;&gt;<i> the other nested volumes or write anything to it. Maybe there are  
</I>&gt;&gt;&gt;<i> some issues there. I haven't investigated
</I>&gt;&gt;&gt;<i> Much further yet.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -- David
</I>&gt;&gt;&gt;<i> On 17 Jan 2008, at 21:52, Brian Pinkerton &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">bplist at thinkpink.com</A>&gt;  
</I>&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> My ZFS file systems aren't showing up in the File Sharing pane of  
</I>&gt;&gt;&gt;&gt;<i> Server Admin.  This makes administration a pain the neck when  
</I>&gt;&gt;&gt;&gt;<i> coupled with the fact that the sharenfs property is not yet  
</I>&gt;&gt;&gt;&gt;<i> supported.  Anyone else tried to get this to work?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> thanks,
</I>&gt;&gt;&gt;&gt;<i> bri
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> zfs-discuss mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">http://lists.macosforge.org/mailman/listinfo/zfs-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> zfs-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">http://lists.macosforge.org/mailman/listinfo/zfs-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000020.html">[zfs-discuss] ZFS volumes not showing up in Server Admin?
</A></li>
	<LI>Next message: <A HREF="000022.html">[zfs-discuss] Home on a ZFS volume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21">[ date ]</a>
              <a href="thread.html#21">[ thread ]</a>
              <a href="subject.html#21">[ subject ]</a>
              <a href="author.html#21">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
