<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] ZFS and cheap disks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%20and%20cheap%20disks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000007.html">
   <LINK REL="Next"  HREF="000013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] ZFS and cheap disks</H1>
    <B>Ragnar Sundblad</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%20and%20cheap%20disks&In-Reply-To="
       TITLE="[zfs-discuss] ZFS and cheap disks">ragge at csc.kth.se
       </A><BR>
    <I>Wed Jan 16 12:49:52 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000007.html">[zfs-discuss] iTunes and ZFS announcement
</A></li>
        <LI>Next message: <A HREF="000013.html">[zfs-discuss] ZFS and cheap disks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8">[ date ]</a>
              <a href="thread.html#8">[ thread ]</a>
              <a href="subject.html#8">[ subject ]</a>
              <a href="author.html#8">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
The documentation says that ZFS loves cheap disks. ZFS also leaves  
guarantees regarding consistency and have mechanisms for transactions.

As I understand it, it isn't easy to control the write cache on all  
kinds of disks, especially many older PATA and SATA disks and disks  
behind different kind of bridges like raid controllers, USB bridges  
etc. Some don't have the mechanisms to control the cache implemented,  
some don't implement it correctly.

Can ZFS really leave those guarantees on such drives? If so, how is  
that implemented? If not, how bad can the result be if for example the  
power is lost half way through a cache flush and a arbitrary set if  
blocks make it to the disk and the rest don't?

/ragge

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000007.html">[zfs-discuss] iTunes and ZFS announcement
</A></li>
	<LI>Next message: <A HREF="000013.html">[zfs-discuss] ZFS and cheap disks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8">[ date ]</a>
              <a href="thread.html#8">[ thread ]</a>
              <a href="subject.html#8">[ subject ]</a>
              <a href="author.html#8">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
