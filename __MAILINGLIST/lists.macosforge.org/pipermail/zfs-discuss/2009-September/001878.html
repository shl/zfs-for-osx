<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Snapshots under os x
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Snapshots%20under%20os%20x&In-Reply-To=%3C648B81BF-89D0-486B-B863-0FB376717853%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001876.html">
   <LINK REL="Next"  HREF="001883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Snapshots under os x</H1>
    <B>Alex Blewitt</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Snapshots%20under%20os%20x&In-Reply-To=%3C648B81BF-89D0-486B-B863-0FB376717853%40gmail.com%3E"
       TITLE="[zfs-discuss] Snapshots under os x">alex.blewitt at gmail.com
       </A><BR>
    <I>Wed Sep 30 06:26:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001876.html">[zfs-discuss] Snapshots under os x
</A></li>
        <LI>Next message: <A HREF="001883.html">[zfs-discuss] Snapshots under os x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1878">[ date ]</a>
              <a href="thread.html#1878">[ thread ]</a>
              <a href="subject.html#1878">[ subject ]</a>
              <a href="author.html#1878">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Sent from my (new) iPhone

On 29 Sep 2009, at 23:56, Harald Hanche-Olsen &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">hanche at math.ntnu.no</A>&gt;  
wrote:

&gt;<i> + Jason Belec &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">jasonbelec at rogers.com</A>&gt;:
</I>&gt;<i>
</I>&gt;&gt;<i> Anyone able to point me to some useful info? Examples?
</I>
I wrote this up a while ago and has saved my bacon a couple of times:

<A HREF="http://alblue.blogspot.com/2008/11/crontab-generated-zfs-snapshots.html">http://alblue.blogspot.com/2008/11/crontab-generated-zfs-snapshots.html</A>

However, note that since 10.5.8 cron (aka launchd) seems to be more  
multi-process than before and it's fairly easy to kernel panic if you  
have two snapshots concurrently or a scrub and a snapshot. I've since  
adjusted this to run at defined intervals past the hour (instead of on  
the hour) and haven't seen any problems since.

&gt;<i> Also, you cannot send and receive snapshots to and from pipes. You
</I>&gt;<i> need to store them as files.
</I>
You can mkfifo a virtual file, get one zfs send &gt; fifo and then zfs  
recv &lt; fifo if you don't have storage space to store an entire  
snapshot. I believe the writing process will block after some small  
buffer though so the processes need to be concurrently running.

Also, I'd add that at the current time, the ZFS project on Mac seems  
to be abandoned, so if setting up a new store you might be better off  
with OpenSolaris.
&gt;<i>
</I>

Alex
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001876.html">[zfs-discuss] Snapshots under os x
</A></li>
	<LI>Next message: <A HREF="001883.html">[zfs-discuss] Snapshots under os x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1878">[ date ]</a>
              <a href="thread.html#1878">[ thread ]</a>
              <a href="subject.html#1878">[ subject ]</a>
              <a href="author.html#1878">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
