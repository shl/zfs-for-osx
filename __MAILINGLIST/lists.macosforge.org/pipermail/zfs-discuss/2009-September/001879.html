<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Snapshots under os x
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Snapshots%20under%20os%20x&In-Reply-To=%3C212549.64058.qm%40web88108.mail.re2.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001877.html">
   <LINK REL="Next"  HREF="001880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Snapshots under os x</H1>
    <B>Jason Belec</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Snapshots%20under%20os%20x&In-Reply-To=%3C212549.64058.qm%40web88108.mail.re2.yahoo.com%3E"
       TITLE="[zfs-discuss] Snapshots under os x">jasonbelec at rogers.com
       </A><BR>
    <I>Wed Sep 30 07:16:28 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001877.html">[zfs-discuss] Snapshots under os x
</A></li>
        <LI>Next message: <A HREF="001880.html">[zfs-discuss] Snapshots under os x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1879">[ date ]</a>
              <a href="thread.html#1879">[ thread ]</a>
              <a href="subject.html#1879">[ subject ]</a>
              <a href="author.html#1879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Excellent insight, thank you. 

As for being abandoned for the Mac, not quite. Since I work alot in corporate environments and develop new technologies I'm willing to play some. 

So far I'm really impressed with the latest MacForge download and my franken-test to push limits under OS X 10.6.1.

Really appreciate the info from everyone.

Jason
Sent from my iPhone

On 2009-09-30, at 9:26 AM, Alex Blewitt &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">alex.blewitt at gmail.com</A>&gt; wrote:



Sent from my (new) iPhone

On 29 Sep 2009, at 23:56, Harald Hanche-Olsen &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">hanche at math.ntnu.no</A>&gt; wrote:

+ Jason Belec &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">jasonbelec at rogers.com</A>&gt;:

Anyone able to point me to some useful info? Examples?

I wrote this up a while ago and has saved my bacon a couple of times:

<A HREF="http://alblue.blogspot.com/2008/11/crontab-generated-zfs-snapshots.html">http://alblue.blogspot.com/2008/11/crontab-generated-zfs-snapshots.html</A>

However, note that since 10.5.8 cron (aka launchd) seems to be more multi-process than before and it's fairly easy to kernel panic if you have two snapshots concurrently or a scrub and a snapshot. I've since adjusted this to run at defined intervals past the hour (instead of on the hour) and haven't seen any problems since.

Also, you cannot send and receive snapshots to and from pipes. You
need to store them as files.

You can mkfifo a virtual file, get one zfs send &gt; fifo and then zfs recv &lt; fifo if you don't have storage space to store an entire snapshot. I believe the writing process will block after some small buffer though so the processes need to be concurrently running.

Also, I'd add that at the current time, the ZFS project on Mac seems to be abandoned, so if setting up a new store you might be better off with OpenSolaris.



Alex
_______________________________________________
zfs-discuss mailing list
<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001877.html">[zfs-discuss] Snapshots under os x
</A></li>
	<LI>Next message: <A HREF="001880.html">[zfs-discuss] Snapshots under os x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1879">[ date ]</a>
              <a href="thread.html#1879">[ thread ]</a>
              <a href="subject.html#1879">[ subject ]</a>
              <a href="author.html#1879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
