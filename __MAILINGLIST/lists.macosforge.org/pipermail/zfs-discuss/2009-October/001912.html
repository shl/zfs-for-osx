<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] must watch.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20must%20watch.&In-Reply-To=%3C20091010.145335.37374416.hanche%40math.ntnu.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001911.html">
   <LINK REL="Next"  HREF="001914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] must watch.</H1>
    <B>Harald Hanche-Olsen</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20must%20watch.&In-Reply-To=%3C20091010.145335.37374416.hanche%40math.ntnu.no%3E"
       TITLE="[zfs-discuss] must watch.">hanche at math.ntnu.no
       </A><BR>
    <I>Sat Oct 10 11:53:35 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001911.html">[zfs-discuss] must watch.
</A></li>
        <LI>Next message: <A HREF="001914.html">[zfs-discuss] must watch.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1912">[ date ]</a>
              <a href="thread.html#1912">[ thread ]</a>
              <a href="subject.html#1912">[ subject ]</a>
              <a href="author.html#1912">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>+ James Relph &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">james at themacplace.co.uk</A>&gt;:

&gt;<i> &gt; Last, I do not believe that the crash protection scheme used
</I>&gt;<i> &gt; by ZFS can ever work reliably on drives that drop the flush
</I>&gt;<i> &gt; track cache request.  The only approach that is guaranteed to
</I>&gt;<i> &gt; work is to keep enough data in a log that when you remount the
</I>&gt;<i> &gt; drive, you can replay more data than the drive could have kept
</I>&gt;<i> &gt; cached.  This is effectively what the journal on HFS has done
</I>&gt;<i> &gt; since Leopard.
</I>&gt;<i> 
</I>&gt;<i> I'm just a filesystem user rather than having any particular knowledge
</I>&gt;<i> of file system design, but I would be interested to know whether
</I>&gt;<i> that's something that you think is fixable with ZFS or whether the
</I>&gt;<i> design makes that very hard or impossible to do?
</I>
If you watch the video that started this thread, you'll see that this
is one of the upcoming features of ZFS. Basically, they plan to keep a
backlog of &#252;berblocks so that, if the latest one is no good, you can
go back and use an earlier one. You'll lose recently written data, of
course, but your entire pool won't be gone the way it can happen now.

- Harald
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001911.html">[zfs-discuss] must watch.
</A></li>
	<LI>Next message: <A HREF="001914.html">[zfs-discuss] must watch.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1912">[ date ]</a>
              <a href="thread.html#1912">[ thread ]</a>
              <a href="subject.html#1912">[ subject ]</a>
              <a href="author.html#1912">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
