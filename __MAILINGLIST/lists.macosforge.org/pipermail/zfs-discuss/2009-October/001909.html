<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Panic in AVL (build 154 aka 10a286)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Panic%20in%20AVL%20%28build%20154%20aka%2010a286%29&In-Reply-To=%3CF279214B-CF82-4E59-9E9E-E1BA5A124417%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001889.html">
   <LINK REL="Next"  HREF="001910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Panic in AVL (build 154 aka 10a286)</H1>
    <B>Alex Blewitt</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Panic%20in%20AVL%20%28build%20154%20aka%2010a286%29&In-Reply-To=%3CF279214B-CF82-4E59-9E9E-E1BA5A124417%40gmail.com%3E"
       TITLE="[zfs-discuss] Panic in AVL (build 154 aka 10a286)">alex.blewitt at gmail.com
       </A><BR>
    <I>Sat Oct 10 00:54:18 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001889.html">[zfs-discuss] Panic in AVL (build 154 aka 10a286)
</A></li>
        <LI>Next message: <A HREF="001910.html">[zfs-discuss] Panic in AVL (build 154 aka 10a286)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1909">[ date ]</a>
              <a href="thread.html#1909">[ thread ]</a>
              <a href="subject.html#1909">[ subject ]</a>
              <a href="author.html#1909">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 7 Oct 2009, at 08:17, Julien-Pierre Av&#233;rous wrote:

&gt;<i> I know, I should forget ZFS for the moment, until Apple resolve its  
</I>&gt;<i> problems with legals (or technicals (or...)) issues. But I love too  
</I>&gt;<i> much ZFS ;)
</I>&gt;<i>
</I>&gt;<i> So I have installed the build 154 (released in the Mac OS  Build  
</I>&gt;<i> 10a286) in Mac OS X Server Snow Leopard X.6.1.
</I>
Worth noting that build 154 was never released to the public ... the  
last published version was 119. Your mileage may vary quite a lot :-)

&gt;<i> I have a WD Drive in USB2 of 2 TB. I have formatted my drive,  
</I>&gt;<i> configured the main partition as a ZFS entity, created a ZFS Pool on  
</I>&gt;<i> this entity and finally created a filesystem on this pool.
</I>
Don't do it! USB sucks. USB2 sucks faster.

<A HREF="http://alblue.blogspot.com/2007/12/mac-data-loss-on-leopard-usb-drives.html">http://alblue.blogspot.com/2007/12/mac-data-loss-on-leopard-usb-drives.html</A>

&gt;<i> This seem work fine, until I try to copy (with cp -pR) a big amount  
</I>&gt;<i> of file (between 3 to 6 MB each) : after a little amount of file  
</I>&gt;<i> copied (less than 3000, not on the same directory), my server is  
</I>&gt;<i> killed with a call to panic, generating this trace :
</I>
There are problems with the USB drive and filling the write cache. The  
USB device is reporting (in response to an fsync) that eveything is  
written, when it isn't. This ends up confusing ZFS and you end up with  
weird errors.

Best go out and buy yourself a decent FireWire drive and then use the  
USB as a /tmp drive.

Alex
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001889.html">[zfs-discuss] Panic in AVL (build 154 aka 10a286)
</A></li>
	<LI>Next message: <A HREF="001910.html">[zfs-discuss] Panic in AVL (build 154 aka 10a286)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1909">[ date ]</a>
              <a href="thread.html#1909">[ thread ]</a>
              <a href="subject.html#1909">[ subject ]</a>
              <a href="author.html#1909">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
