<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] zfs crashing regularly now
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20zfs%20crashing%20regularly%20now&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000353.html">
   <LINK REL="Next"  HREF="000324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] zfs crashing regularly now</H1>
    <B>Brett Ault-McCoy</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20zfs%20crashing%20regularly%20now&In-Reply-To="
       TITLE="[zfs-discuss] zfs crashing regularly now">btm at pobox.com
       </A><BR>
    <I>Sun Mar  9 10:46:05 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000353.html">[zfs-discuss] ZFS as AirDisk?
</A></li>
        <LI>Next message: <A HREF="000324.html">[zfs-discuss] zfs crashing regularly now
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#290">[ date ]</a>
              <a href="thread.html#290">[ thread ]</a>
              <a href="subject.html#290">[ subject ]</a>
              <a href="author.html#290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I started using zfs a few weeks ago.  Until recently it's been very stable
and I haven't had any crashes or problems.  However, about two days ago it
started crashing and is now doing so somewhat regularly.  The initial crash
was due to having a zfs pool made out of some files residing on another
machine being accessed over CIFS.  The other machine was shut down while the
zfs pool was active and crashed the machine.  I no longer have that pool
(zpool destroy) but I'm still having crashes periodically.  The problem
report from the crashes is:
Sun Mar  9 17:38:07 2008
panic(cpu 0 caller 0x375768B0): &quot;ZFS: I/O failure (write on &lt;unknown&gt; off 0:
zio 0x2008ef0 [L0 ZFS plain file] 20000L/20000P DVA[0]=&lt;0:2a82fe0000:20000&gt;
fletcher2 uncompressed BE contiguous birth=878877 fill=1
cksum=2f7d0e17f8bcf08c:48cc3c8f3c1207d2:1ce4de75a16901ab:f103c54640173d99):
error &quot;
&quot;5&quot;@/Volumes/pixie_dust/home/ndellofano/zfs-work/wiki/zfs-102A/zfs_kext/zfs/zio.c:918
Latest stack backtrace for cpu 0:
      Backtrace:
         0x0009B2F8 0x0009BC9C 0x00029DC4 0x375768B0 0x37572340 0x37572864
0x37572918 0x37572340
         0x37575E20 0x37572340 0x375BD33C 0x37571AC4 0x375E9C08 0x000B0454
      Kernel loadable modules in backtrace (with dependencies):
         com.apple.filesystems.zfs(8.0)@0x3755a000-&gt;0x37643fff
Proceeding back via exception chain:
   Exception state (sv=0x24c56280)
      PC=0x00000000; MSR=0x0000D030; DAR=0x00000000; DSISR=0x00000000;
LR=0x00000000; R1=0x00000000; XCP=0x00000000 (Unknown)

BSD process name corresponding to current thread: kernel_task

Mac OS version:
9C31

Kernel version:
Darwin Kernel Version 9.2.0: Tue Feb  5 16:15:19 PST 2008; root:
xnu-1228.3.13~1/RELEASE_PPC
System model name: PowerMac3,5


The original crash also resulted in a corrupted file on a local HFS+ volume
that had had a pool on and I had to destroy that pool.  I assumed that was
due to HFS+ inconsistancy during the crash.

My thought on how to maybe clear the problem up is to export the pools I
have to get back to clean state and then re-import them all.

Has anyone else seen anything similar?

++Brett;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080309/b4c1e127/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080309/b4c1e127/attachment.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000353.html">[zfs-discuss] ZFS as AirDisk?
</A></li>
	<LI>Next message: <A HREF="000324.html">[zfs-discuss] zfs crashing regularly now
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#290">[ date ]</a>
              <a href="thread.html#290">[ thread ]</a>
              <a href="subject.html#290">[ subject ]</a>
              <a href="author.html#290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
