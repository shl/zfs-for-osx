<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] RAID-Z not re-mounting on reboot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20RAID-Z%20not%20re-mounting%20on%20reboot&In-Reply-To=E65E26D9-7EF0-432C-A6B5-B7541A2BF832%40apple.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000464.html">
   <LINK REL="Next"  HREF="000462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] RAID-Z not re-mounting on reboot</H1>
    <B>Thornton Adrian</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20RAID-Z%20not%20re-mounting%20on%20reboot&In-Reply-To=E65E26D9-7EF0-432C-A6B5-B7541A2BF832%40apple.com"
       TITLE="[zfs-discuss] RAID-Z not re-mounting on reboot">canadrian at electricteaparty.net
       </A><BR>
    <I>Fri Apr 11 15:17:34 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000464.html">[zfs-discuss] RAID-Z not re-mounting on reboot
</A></li>
        <LI>Next message: <A HREF="000462.html">[zfs-discuss] ZFS on an XServe RAID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#465">[ date ]</a>
              <a href="thread.html#465">[ thread ]</a>
              <a href="subject.html#465">[ subject ]</a>
              <a href="author.html#465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Noel,

I am considering replacing all my 320gb drives with 750gb drives  
anyway, so this may be a good time to do it. My current SATA  
controller card can't seem to handle the 750gb drives, but as soon as  
I can find a compatible card that will, then i'll proceed with the  
process and let this group know what happens.

Cheers,
Adrian


On 11-Apr-08, at 3:59 PM, No&#235;l Dellofano wrote:
&gt;<i> hmm, that's a tough one.
</I>&gt;<i>
</I>&gt;<i> So &quot;in theory&quot; since you have a raidz i'd say you should be able to  
</I>&gt;<i> replace each disk one at a time and resilver each time in between.   
</I>&gt;<i> Because reformatting the disk, and the need for ZFS to get the  
</I>&gt;<i> disk2s2 name instead of just disk2 (its stored in the label packed  
</I>&gt;<i> nvlist), you'll likely need to offline the device, reformat it and  
</I>&gt;<i> then issue a replace of the drive with itself.  I'm *very* hesitant  
</I>&gt;<i> to recommend this since I've never tried it ('zpool replace mypool  
</I>&gt;<i> disk2 disk2s2') and I'm really not quite sure how the system will  
</I>&gt;<i> react or what  it will do.  I'd recommend doing a snapshot of all  
</I>&gt;<i> your data and doing a 'zfs send'  of  it to another machine/ 
</I>&gt;<i> drive(HFS, ZFS whatever you got), though i realize you have a lot of  
</I>&gt;<i> data and I'm not sure if you have another machine you can store that  
</I>&gt;<i> much data on temporarily for backup.
</I>&gt;<i>
</I>&gt;<i> If you have access to one drive (of the same size as the rest of  
</I>&gt;<i> your drives in your raidz) and you have space in your config to  
</I>&gt;<i> attach it to the system,  that would make your life a lot easier  
</I>&gt;<i> since you could just issue a straight up replace one drive at a  
</I>&gt;<i> time, reformatting and resilvering the replaced drives as you go.
</I>&gt;<i>
</I>&gt;<i> Noel
</I>&gt;<i>
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000464.html">[zfs-discuss] RAID-Z not re-mounting on reboot
</A></li>
	<LI>Next message: <A HREF="000462.html">[zfs-discuss] ZFS on an XServe RAID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#465">[ date ]</a>
              <a href="thread.html#465">[ thread ]</a>
              <a href="subject.html#465">[ subject ]</a>
              <a href="author.html#465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
