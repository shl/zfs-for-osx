<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] 'File has changed' type messages in XCode and the like
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20%27File%20has%20changed%27%20type%20messages%20in%20XCode%20and%20the%20like&In-Reply-To=%3C840656AA-AB0F-4F36-AC06-7C5689079FB6%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001564.html">
   <LINK REL="Next"  HREF="001576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] 'File has changed' type messages in XCode and the like</H1>
    <B>Alex Blewitt</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20%27File%20has%20changed%27%20type%20messages%20in%20XCode%20and%20the%20like&In-Reply-To=%3C840656AA-AB0F-4F36-AC06-7C5689079FB6%40gmail.com%3E"
       TITLE="[zfs-discuss] 'File has changed' type messages in XCode and the like">alex.blewitt at gmail.com
       </A><BR>
    <I>Wed May  6 15:28:32 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001564.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
        <LI>Next message: <A HREF="001576.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1575">[ date ]</a>
              <a href="thread.html#1575">[ thread ]</a>
              <a href="subject.html#1575">[ subject ]</a>
              <a href="author.html#1575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Evening all,

I found a problem with 'git' when I was hosting a git repository on a  
ZFS mounted partition (<A HREF="http://permalink.gmane.org/gmane.comp.version-control.git/118392">http://permalink.gmane.org/gmane.comp.version-control.git/118392</A> 
). Basically, there seems to be some aspect of 'stat' which is  
confusing the poor program, and it thinks that things are changed.

It wouldn't surprise me if this was some kind of precision/rounding  
issue in reporting timestamps, like one OS call gives values to the  
nearest ms, whilst another gives it to the nearest s.

I've also had the same problems with XCode, saying 'this file has been  
modified by another program' when accessing files from an SVN  
repository on a ZFS mount. I suspect the same cause is at play here.

Of course, the files haven't been changed, but rather the  
application's cached view of the file's status is different when  
queried from disk. I don't know if inode files are used in this  
circumstance (which ZFS might handle differently) or whether there's  
something else going on.

Has anyone else experienced this using an editor like XCode on source  
files hosted on a ZFS partition? I don't see the same problem on  
Eclipse with files on a ZFS partition, so maybe it's some low-level C  
routine that's giving different numbers somewhere.

Alex
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001564.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
	<LI>Next message: <A HREF="001576.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1575">[ date ]</a>
              <a href="thread.html#1575">[ thread ]</a>
              <a href="subject.html#1575">[ subject ]</a>
              <a href="author.html#1575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
