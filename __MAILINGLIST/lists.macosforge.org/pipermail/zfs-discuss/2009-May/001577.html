<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Subject: 'File has changed' type messages in	XCode and the like
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Subject%3A%20%27File%20has%20changed%27%20type%20messages%20in%0A%09XCode%20and%20the%20like&In-Reply-To=%3C91C8BA73-EFFD-45A5-AD14-059F705FBE64%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001576.html">
   <LINK REL="Next"  HREF="001578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Subject: 'File has changed' type messages in	XCode and the like</H1>
    <B>Ryan Walklin</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Subject%3A%20%27File%20has%20changed%27%20type%20messages%20in%0A%09XCode%20and%20the%20like&In-Reply-To=%3C91C8BA73-EFFD-45A5-AD14-059F705FBE64%40gmail.com%3E"
       TITLE="[zfs-discuss] Subject: 'File has changed' type messages in	XCode and the like">ryanwalklin at gmail.com
       </A><BR>
    <I>Thu May  7 00:09:10 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001576.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
        <LI>Next message: <A HREF="001578.html">[zfs-discuss] Growing trouble with zfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1577">[ date ]</a>
              <a href="thread.html#1577">[ thread ]</a>
              <a href="subject.html#1577">[ subject ]</a>
              <a href="author.html#1577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've seen this as well using git with RAID-Z (ZFS 119) on 10.5.6.  
There's a discussion from a year ago on kerneltrap.org (<A HREF="http://kerneltrap.org/mailarchive/git/2008/5/4/1719004">http://kerneltrap.org/mailarchive/git/2008/5/4/1719004</A> 
) which I think is the same problem. They seem to attribute it to
an incompatibility in the way UTF-8 names are handled on OS X's ZFS  
implementation.

Regards,

Ryan

&gt;<i> Message: 8
</I>&gt;<i> Date: Wed, 6 May 2009 23:28:32 +0100
</I>&gt;<i> From: Alex Blewitt &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">alex.blewitt at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> Subject: [zfs-discuss] 'File has changed' type messages in XCode and
</I>&gt;<i> 	the like
</I>&gt;<i> Message-ID: &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">840656AA-AB0F-4F36-AC06-7C5689079FB6 at gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
</I>&gt;<i>
</I>&gt;<i> Evening all,
</I>&gt;<i>
</I>&gt;<i> I found a problem with 'git' when I was hosting a git repository on a
</I>&gt;<i> ZFS mounted partition (<A HREF="http://permalink.gmane.org/gmane.comp.version-control.git/118392">http://permalink.gmane.org/gmane.comp.version-control.git/118392</A>
</I>&gt;<i> ). Basically, there seems to be some aspect of 'stat' which is
</I>&gt;<i> confusing the poor program, and it thinks that things are changed.
</I>&gt;<i>
</I>&gt;<i> It wouldn't surprise me if this was some kind of precision/rounding
</I>&gt;<i> issue in reporting timestamps, like one OS call gives values to the
</I>&gt;<i> nearest ms, whilst another gives it to the nearest s.
</I>&gt;<i>
</I>&gt;<i> I've also had the same problems with XCode, saying 'this file has been
</I>&gt;<i> modified by another program' when accessing files from an SVN
</I>&gt;<i> repository on a ZFS mount. I suspect the same cause is at play here.
</I>&gt;<i>
</I>&gt;<i> Of course, the files haven't been changed, but rather the
</I>&gt;<i> application's cached view of the file's status is different when
</I>&gt;<i> queried from disk. I don't know if inode files are used in this
</I>&gt;<i> circumstance (which ZFS might handle differently) or whether there's
</I>&gt;<i> something else going on.
</I>&gt;<i>
</I>&gt;<i> Has anyone else experienced this using an editor like XCode on source
</I>&gt;<i> files hosted on a ZFS partition? I don't see the same problem on
</I>&gt;<i> Eclipse with files on a ZFS partition, so maybe it's some low-level C
</I>&gt;<i> routine that's giving different numbers somewhere.
</I>&gt;<i>
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of zfs-discuss Digest, Vol 17, Issue 9
</I>&gt;<i> ******************************************
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001576.html">[zfs-discuss] There is something very wrong with the MacOS ZFS	documentation
</A></li>
	<LI>Next message: <A HREF="001578.html">[zfs-discuss] Growing trouble with zfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1577">[ date ]</a>
              <a href="thread.html#1577">[ thread ]</a>
              <a href="subject.html#1577">[ subject ]</a>
              <a href="author.html#1577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
