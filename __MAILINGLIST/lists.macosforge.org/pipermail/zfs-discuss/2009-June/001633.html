<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Kernel Panic and Missing Pool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Kernel%20Panic%20and%20Missing%20Pool&In-Reply-To=%3C5169B9BD-75C4-401E-AC80-B293BA59FBA1%40Sun.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001632.html">
   <LINK REL="Next"  HREF="001634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Kernel Panic and Missing Pool</H1>
    <B>Jonathan Edwards</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Kernel%20Panic%20and%20Missing%20Pool&In-Reply-To=%3C5169B9BD-75C4-401E-AC80-B293BA59FBA1%40Sun.COM%3E"
       TITLE="[zfs-discuss] Kernel Panic and Missing Pool">Jonathan.Edwards at Sun.COM
       </A><BR>
    <I>Thu Jun 11 19:43:31 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001632.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
        <LI>Next message: <A HREF="001634.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1633">[ date ]</a>
              <a href="thread.html#1633">[ thread ]</a>
              <a href="subject.html#1633">[ subject ]</a>
              <a href="author.html#1633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 11, 2009, at 7:00 PM, Carl Magnuson wrote:

&gt;<i> zpool scrub runs without any output and the dd command you gave does  
</I>&gt;<i> not produce any output in dmesg, however the checksum has definitely  
</I>&gt;<i> shot up for those two disks after running each of those:
</I>
sure .. since the dd command would be adding more data to the pool and  
zfs is already busy validating data that was written to the disks that  
were previously missing (disk8/disk9 .. now disk7/disk8) .. i'd wait  
for the scrub to complete (adding a spare would be non-intrusive  
here), and you should see the status message go away (you can also do  
a status -xv to look for changes or a zpool iostat -v cpool 5 to watch  
activity) .. looks like you've got about 6.5 hours to go now ..

&gt;<i> bash-3.2$ zpool status
</I>&gt;<i>  pool: cpool
</I>&gt;<i> state: ONLINE
</I>&gt;<i> status: One or more devices has experienced an unrecoverable error.   
</I>&gt;<i> An
</I>&gt;<i>        attempt was made to correct the error.  Applications are  
</I>&gt;<i> unaffected.
</I>&gt;<i> action: Determine if the device needs to be replaced, and clear the  
</I>&gt;<i> errors
</I>&gt;<i>        using 'zpool clear' or replace the device with 'zpool replace'.
</I>&gt;<i>   see: <A HREF="http://www.sun.com/msg/ZFS-8000-9P">http://www.sun.com/msg/ZFS-8000-9P</A>
</I>&gt;<i> scrub: scrub in progress, 0.57% done, 11h25m to go
</I>&gt;<i> config:
</I>&gt;<i>
</I>&gt;<i>        NAME         STATE     READ WRITE CKSUM
</I>&gt;<i>        cpool        ONLINE       0     0     0
</I>&gt;<i>          raidz2     ONLINE       0     0     0
</I>&gt;<i>            disk2s2  ONLINE       0     0     0
</I>&gt;<i>            disk3s2  ONLINE       0     0     0
</I>&gt;<i>            disk4s2  ONLINE       0     0     0
</I>&gt;<i>            disk6s2  ONLINE       0     0     0
</I>&gt;<i>            disk5s2  ONLINE       0     0     0
</I>&gt;<i>            disk7s2  ONLINE       0     0  1007
</I>&gt;<i>            disk8s2  ONLINE       0     0 1.17K
</I>&gt;<i>
</I>&gt;<i> errors: No known data errors
</I>&gt;<i>
</I>&gt;<i> Is this a sign of failing disks? If so is there any simple way to  
</I>&gt;<i> identify which physical drives they are other then pulling drives  
</I>&gt;<i> randomly and rebooting?
</I>
can't tell at this point .. if you are seeing excessive cksums or  
frequent scrubs that take a long time to complete then you could have  
a problem .. but then from previous emails - it appears that you were  
having some issues with disks disappearing from the expander .. so  
that could have been some of it there

---
.je
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001632.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
	<LI>Next message: <A HREF="001634.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1633">[ date ]</a>
              <a href="thread.html#1633">[ thread ]</a>
              <a href="subject.html#1633">[ subject ]</a>
              <a href="author.html#1633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
