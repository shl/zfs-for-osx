<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Kernel Panic and Missing Pool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Kernel%20Panic%20and%20Missing%20Pool&In-Reply-To=%3C327b821f0906110824n4da7939di7d2a57c68577ff77%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001627.html">
   <LINK REL="Next"  HREF="001629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Kernel Panic and Missing Pool</H1>
    <B>Germano Caronni</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Kernel%20Panic%20and%20Missing%20Pool&In-Reply-To=%3C327b821f0906110824n4da7939di7d2a57c68577ff77%40mail.gmail.com%3E"
       TITLE="[zfs-discuss] Kernel Panic and Missing Pool">caronni at gmail.com
       </A><BR>
    <I>Thu Jun 11 08:24:56 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001627.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
        <LI>Next message: <A HREF="001629.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1628">[ date ]</a>
              <a href="thread.html#1628">[ thread ]</a>
              <a href="subject.html#1628">[ subject ]</a>
              <a href="author.html#1628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My take:
Depending on physical circumstances (ie what kind of drives, what kind of
adapter, port multiplier, etc.) I have seen frequent timeouts on disks upon
reboot, leading to faulted zpools under Leopard. So, yes, this might happen
again, depending on why it happened this time.

Germano


On Thu, Jun 11, 2009 at 16:58, Carl Magnuson &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">magnu213 at umn.edu</A>&gt; wrote:

&gt;<i> Christian,
</I>&gt;<i>
</I>&gt;<i> After a reboot I have the following zpool status:
</I>&gt;<i>
</I>&gt;<i> g5:~ bobcat$ zpool status
</I>&gt;<i>  pool: cpool
</I>&gt;<i>  state: ONLINE
</I>&gt;<i> status: One or more devices has experienced an unrecoverable error.  An
</I>&gt;<i>        attempt was made to correct the error.  Applications are unaffected.
</I>&gt;<i> action: Determine if the device needs to be replaced, and clear the errors
</I>&gt;<i>        using 'zpool clear' or replace the device with 'zpool replace'.
</I>&gt;<i>   see: <A HREF="http://www.sun.com/msg/ZFS-8000-9P">http://www.sun.com/msg/ZFS-8000-9P</A>
</I>&gt;<i>  scrub: resilver completed with 0 errors on Thu Jun 11 09:50:58 2009
</I>&gt;<i> config:
</I>&gt;<i>
</I>&gt;<i>        NAME         STATE     READ WRITE CKSUM
</I>&gt;<i>        cpool        ONLINE       0     0     0
</I>&gt;<i>          raidz2     ONLINE       0     0     0
</I>&gt;<i>            disk2s2  ONLINE       0     0     0
</I>&gt;<i>            disk3s2  ONLINE       0     0     0
</I>&gt;<i>            disk4s2  ONLINE       0     0     0
</I>&gt;<i>            disk6s2  ONLINE       0     0     0
</I>&gt;<i>            disk5s2  ONLINE       0     0     0
</I>&gt;<i>            disk7s2  ONLINE       0     0   102
</I>&gt;<i>            disk8s2  ONLINE       0     0   104
</I>&gt;<i>
</I>&gt;<i> errors: No known data errors
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Which seems very odd to me that it seem to come back together.  Is there
</I>&gt;<i> cause for concern - after another reboot the drives might not all come back
</I>&gt;<i> into the pool like they did last time?  Or should that be an isolated
</I>&gt;<i> circumstance?
</I>&gt;<i>
</I>&gt;<i> Thanks so much,
</I>&gt;<i>
</I>&gt;<i> Carl
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Jun 10, 2009, at 10:36 PM, Christian Kujau wrote:
</I>&gt;<i>
</I>&gt;<i>  On Wed, 10 Jun 2009, Carl Magnuson wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> g5:~ bobcat$ zpool replace cpool 13962824586312699565 disk7s2
</I>&gt;&gt;&gt;<i> cannot replace 13962824586312699565 with disk7s2: disk7s2 is busy
</I>&gt;&gt;&gt;<i> g5:~ bobcat$ zpool replace cpool 1751454142452109774 disk8s2
</I>&gt;&gt;&gt;<i> cannot replace 1751454142452109774 with disk8s2: disk8s2 is busy
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hm, you ejected the drves, yet they ae still returning busy...weird. I
</I>&gt;&gt;<i> don't want to sound like a Windoze-helpdesk, but: is rebooting an option?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Christian.
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> BOFH excuse #92:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Stale file handle (next time use Tupperware(tm)!)
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090611/7cdaf91d/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090611/7cdaf91d/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001627.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
	<LI>Next message: <A HREF="001629.html">[zfs-discuss] Kernel Panic and Missing Pool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1628">[ date ]</a>
              <a href="thread.html#1628">[ thread ]</a>
              <a href="subject.html#1628">[ subject ]</a>
              <a href="author.html#1628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
