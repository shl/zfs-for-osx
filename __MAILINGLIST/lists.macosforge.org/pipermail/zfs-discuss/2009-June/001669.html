<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Fwd:  zfs alternative
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Fwd%3A%20%20zfs%20alternative&In-Reply-To=%3CF34AC363-4CF4-486A-803C-09C869704F16%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001661.html">
   <LINK REL="Next"  HREF="001670.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Fwd:  zfs alternative</H1>
    <B>Dirk Schelfhout</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Fwd%3A%20%20zfs%20alternative&In-Reply-To=%3CF34AC363-4CF4-486A-803C-09C869704F16%40mac.com%3E"
       TITLE="[zfs-discuss] Fwd:  zfs alternative">dirkschelfhout at mac.com
       </A><BR>
    <I>Fri Jun 19 06:49:38 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001661.html">[zfs-discuss] How to recover from a FAULTED RAID-Z?
</A></li>
        <LI>Next message: <A HREF="001670.html">[zfs-discuss] strange behavior once pool is destroyed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1669">[ date ]</a>
              <a href="thread.html#1669">[ thread ]</a>
              <a href="subject.html#1669">[ subject ]</a>
              <a href="author.html#1669">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I forgot to copy the list for my problem, but fixed it.
might be useful for someone.

I had taken a snapshot yesterday after getting solaris up and running  
with my 3 raw usb disks attached to virtualbox.
After that It went wrong as you can see in the post below.
The fix is to create a new machine. ( or workaround ) As nothing else  
seemed to do the trick. ( like removing the snapshot , etc..... )
( I even started to edit xml files manually ( ouch ) )
And I won't be taking anymore snapshots :-)


Begin forwarded message:

&gt;<i> From: Dirk Schelfhout &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">dirkschelfhout at mac.com</A>&gt;
</I>&gt;<i> Date: Fri 19 Jun 2009 13:41:13 GMT+02:00
</I>&gt;<i> To: Dirk Schelfhout &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">dirkschelfhout at mac.com</A>&gt;
</I>&gt;<i> Subject: Re: [zfs-discuss] zfs alternative
</I>&gt;<i>
</I>&gt;<i> It seems my setup isn't working.
</I>&gt;<i> virtualbox does not seem to write to the disks but to files like  
</I>&gt;<i> this : ( 3 on the top )
</I>&gt;<i> ls -lt
</I>&gt;<i> total 12277136
</I>&gt;<i> -rw-------  1 schelfd  wheel   414646272 Jun 19 13:31  
</I>&gt;<i> {5b88b289-88ef-4300-9d13-f0f3b5fd8e22}.vmdk
</I>&gt;<i> -rw-------  1 schelfd  wheel   414515200 Jun 19 13:31  
</I>&gt;<i> {bab7c742-542a-4195-8237-e328af9474e9}.vmdk
</I>&gt;<i> -rw-------  1 schelfd  wheel   404422656 Jun 19 13:31  
</I>&gt;<i> {1cc02d0c-6197-4e15-a830-209e9789b3af}.vmdk
</I>&gt;<i> -rw-------+ 1 schelfd  wheel  5052285440 Jun 19 13:30  
</I>&gt;<i> solarisEXpand.vdi
</I>&gt;<i> -rw-r--r--@ 1 schelfd  wheel        6148 Jun 19 12:56 .DS_Store
</I>&gt;<i> -rw-------  1 schelfd  wheel         631 Jun 18 18:15 usbDisk2.vmdk
</I>&gt;<i> -rw-------  1 schelfd  wheel         631 Jun 18 18:15 usbDisk3.vmdk
</I>&gt;<i> -rw-------  1 schelfd  wheel         631 Jun 18 18:15 usbDisk1.vmdk
</I>&gt;<i>
</I>&gt;<i> Whenever I create a file in the pool ( solaris in virtualbox ) the  
</I>&gt;<i> usb disks spin up though.
</I>&gt;<i> just tried an export to see if that flushed that data to the disks.  
</I>&gt;<i> nope.
</I>&gt;<i> The virtual media manager shows these 3 to be off type  
</I>&gt;<i> Differencing(VMDK)
</I>&gt;<i>
</I>&gt;<i> Any suggestions ?
</I>&gt;<i>
</I>&gt;<i> Dirk
</I>&gt;<i>
</I>&gt;<i> On 18 Jun 2009, at 23:20, Dirk Schelfhout wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> For now I have solaris running in virtualbox and spent half a day
</I>&gt;&gt;<i> getting 3 usb 1 Tb disks to show up in solaris. ( on a macpro )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For now I couldn't get netatalk compiled on solaris.
</I>&gt;&gt;<i> At the moment I have the zpool from solaris nfs mounted into osx,
</I>&gt;&gt;<i> and am running an rsync to copy the osx zpool to the solaris zpool.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> too bad send recv doesn't work yet. but then would it work between  
</I>&gt;&gt;<i> different versions off zfs ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> the hardest part was finding this :
</I>&gt;&gt;&gt;<i> VBoxManage internalcommands createrawvmdk -filename /Volumes/osx/ 
</I>&gt;&gt;&gt;<i> Users/Shared/virtualbox/usbDisk1.vmdk -rawdisk /dev/disk6 -register
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Not sure where I will be going with this from here, but at least I  
</I>&gt;&gt;<i> have a backup of my zpool now.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> next test is to create a home directory on the nfs mounted zpool.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dirk
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> zfs-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090619/eed53568/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090619/eed53568/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001661.html">[zfs-discuss] How to recover from a FAULTED RAID-Z?
</A></li>
	<LI>Next message: <A HREF="001670.html">[zfs-discuss] strange behavior once pool is destroyed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1669">[ date ]</a>
              <a href="thread.html#1669">[ thread ]</a>
              <a href="subject.html#1669">[ subject ]</a>
              <a href="author.html#1669">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
