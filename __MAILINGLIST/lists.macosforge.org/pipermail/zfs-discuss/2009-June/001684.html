<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Removing ZFS USB device
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Removing%20ZFS%20USB%20device&In-Reply-To=%3C2A74123D-6593-4F7C-8D94-7C20D80B4729%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001682.html">
   <LINK REL="Next"  HREF="001683.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Removing ZFS USB device</H1>
    <B>Alex Blewitt</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Removing%20ZFS%20USB%20device&In-Reply-To=%3C2A74123D-6593-4F7C-8D94-7C20D80B4729%40gmail.com%3E"
       TITLE="[zfs-discuss] Removing ZFS USB device">alex.blewitt at gmail.com
       </A><BR>
    <I>Fri Jun 26 06:10:27 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001682.html">[zfs-discuss] Removing ZFS USB device
</A></li>
        <LI>Next message: <A HREF="001683.html">[zfs-discuss] Removing ZFS USB device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1684">[ date ]</a>
              <a href="thread.html#1684">[ thread ]</a>
              <a href="subject.html#1684">[ subject ]</a>
              <a href="author.html#1684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Sent from my (new) iPhone

On 26 Jun 2009, at 13:24, Atze de Vries &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">the.atz at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Op 26 jun 2009, om 14:12 heeft Harald Hanche-Olsen het volgende  
</I>&gt;<i> geschreven:
</I>&gt;<i>
</I>&gt;&gt;<i> + Atze de Vries &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">the.atz at gmail.com</A>&gt;:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have a problem. My zfs volume ran out of diskspace. Removing files
</I>&gt;&gt;&gt;<i> gives the (strange) error, 'No space left on device' . The only
</I>&gt;&gt;&gt;<i> thing i could do is use my usbdisk to add some space to the
</I>&gt;&gt;&gt;<i> zfs-pool.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am afraid I don't know how you can recover from this,
</I>&gt;&gt;<i> hopefully someone else can.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What I can do is explain what happened: Removing a file can cost  
</I>&gt;&gt;<i> extra
</I>&gt;&gt;<i> disk space because of snapshot magic: The disk block containing
</I>&gt;&gt;<i> directory information regarding the removed file will need to be
</I>&gt;&gt;<i> duplicated so you can keep the old copy in a snapshot, the new copy  
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> the live filesystem. Or something like that. Anyway, the common way  
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> regain control in a disk full situation is to destroy a snapshot.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Harald
</I>&gt;<i>
</I>&gt;<i> mmm sounds like a problem. I thought of somewhat a solution. On my  
</I>&gt;<i> OS drive, which still has many free space i can create a temponary  
</I>&gt;<i> drive using:
</I>&gt;<i>  mkfile 2048m /tmp/disk1
</I>&gt;<i> and add replace this with my usbdisk.
</I>&gt;<i> Is this going to work?
</I>
If by &quot;work&quot; you mean &quot;completely hose my system next reboot&quot; then  
yes, it will work.

Mac OSX will clean /tmp on each reboot. So whilst you could replace  
the USB what would happen on reboot is that it would be deleted, and  
thus the pool would never mount again.

Alex
&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090626/b8963483/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090626/b8963483/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001682.html">[zfs-discuss] Removing ZFS USB device
</A></li>
	<LI>Next message: <A HREF="001683.html">[zfs-discuss] Removing ZFS USB device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1684">[ date ]</a>
              <a href="thread.html#1684">[ thread ]</a>
              <a href="subject.html#1684">[ subject ]</a>
              <a href="author.html#1684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
