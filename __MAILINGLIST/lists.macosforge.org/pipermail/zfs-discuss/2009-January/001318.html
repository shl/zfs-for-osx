<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] Zpool disaster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Zpool%20disaster&In-Reply-To=%3C49707DE6.8070707%40jrv.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001317.html">
   <LINK REL="Next"  HREF="001321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] Zpool disaster</H1>
    <B>James R. Van Artsdalen</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20Zpool%20disaster&In-Reply-To=%3C49707DE6.8070707%40jrv.org%3E"
       TITLE="[zfs-discuss] Zpool disaster">james-zfsosx at jrv.org
       </A><BR>
    <I>Fri Jan 16 04:30:30 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001317.html">[zfs-discuss] Zpool disaster
</A></li>
        <LI>Next message: <A HREF="001321.html">[zfs-discuss] Zpool disaster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1318">[ date ]</a>
              <a href="thread.html#1318">[ thread ]</a>
              <a href="subject.html#1318">[ subject ]</a>
              <a href="author.html#1318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dustin Webb wrote:
&gt;<i> Did you try zpool status -x like this link
</I>&gt;<i> says? <A HREF="http://www.sun.com/msg/ZFS-8000-72?">http://www.sun.com/msg/ZFS-8000-72?</A>
</I>&gt;<i> I hope that it is not your problem.  Good luck.
</I>&gt;<i>
</I>&gt;<i> Dustin Webb
</I>&gt;<i> ITguy
</I>&gt;<i> Erb Co Inc
</I>
Even in this case it's not necessarily lost - there have been reports of
people getting around this by clobbering the most recent uberblock. 
Unfortunately I know of no tools to do this at all: you have to clobber
the right sectors on disk manually.

If this is the problem it's also disturbing since it would imply that
cache flushes through the USB layer may not be working right.  This is
the weak point of ZFS in my opinion: the strong dependence on
write-ordering around an uberblock update.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001317.html">[zfs-discuss] Zpool disaster
</A></li>
	<LI>Next message: <A HREF="001321.html">[zfs-discuss] Zpool disaster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1318">[ date ]</a>
              <a href="thread.html#1318">[ thread ]</a>
              <a href="subject.html#1318">[ subject ]</a>
              <a href="author.html#1318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
