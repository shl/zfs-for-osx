<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] zpool offline problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20zpool%20offline%20problem&In-Reply-To=%3CE27ED5CE-E92F-401B-9192-3F82D0E3EB54%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001382.html">
   <LINK REL="Next"  HREF="001384.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] zpool offline problem</H1>
    <B>Dirk Schelfhout</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20zpool%20offline%20problem&In-Reply-To=%3CE27ED5CE-E92F-401B-9192-3F82D0E3EB54%40mac.com%3E"
       TITLE="[zfs-discuss] zpool offline problem">dirkschelfhout at mac.com
       </A><BR>
    <I>Fri Jan 30 06:04:29 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001382.html">[zfs-discuss] zpool offline problem
</A></li>
        <LI>Next message: <A HREF="001384.html">[zfs-discuss] (fixed) Re:  zpool offline problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1383">[ date ]</a>
              <a href="thread.html#1383">[ thread ]</a>
              <a href="subject.html#1383">[ subject ]</a>
              <a href="author.html#1383">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can I hot plug sata disks inside the macpro ?
This way I can force the device nrs to be the way I want them. ( I  
think )
I would boot without the 3 sata disks that make up the raidz.
Plug them in after I verified the device nrs of the other disks.

What would happen if I ran :
zpool replace backup disk1s2 disk0s2
( if disk0s2 was the new zfs partiton )
Would it try to replace the offline disk ?
Dirk
On 30 Jan 2009, at 07:02, Dirk Schelfhout wrote:

&gt;<i> After replacing a disk and booting up, the disk device numbers have  
</I>&gt;<i> changed.
</I>&gt;<i> So know I get this annoying output :
</I>&gt;<i>
</I>&gt;<i> zpool status
</I>&gt;<i>  pool: backup
</I>&gt;<i> state: DEGRADED
</I>&gt;<i> status: One or more devices has been taken offline by the  
</I>&gt;<i> administrator.
</I>&gt;<i> 	Sufficient replicas exist for the pool to continue functioning in a
</I>&gt;<i> 	degraded state.
</I>&gt;<i> action: Online the device using 'zpool online' or replace the device  
</I>&gt;<i> with
</I>&gt;<i> 	'zpool replace'.
</I>&gt;<i> scrub: resilver completed with 0 errors on Fri Jan 30 07:00:57 2009
</I>&gt;<i> config:
</I>&gt;<i>
</I>&gt;<i> 	NAME         STATE     READ WRITE CKSUM
</I>&gt;<i> 	backup       DEGRADED     0     0     0
</I>&gt;<i> 	  raidz1     DEGRADED     0     0     0
</I>&gt;<i> 	    disk1s2  ONLINE       0     0     0
</I>&gt;<i> 	    disk3s2  ONLINE       0     0     0
</I>&gt;<i> 	    disk2s2  ONLINE       0     0     0
</I>&gt;<i> 	    disk1s2  OFFLINE      0     0     0
</I>&gt;<i>
</I>&gt;<i> errors: No known data errors
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The only thing different is that I am now not booted through refit.
</I>&gt;<i>
</I>&gt;<i> Should I try a replace on disk1s2 ?
</I>&gt;<i>
</I>&gt;<i> Any other way to do this ?
</I>&gt;<i>
</I>&gt;<i> Dirk
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001382.html">[zfs-discuss] zpool offline problem
</A></li>
	<LI>Next message: <A HREF="001384.html">[zfs-discuss] (fixed) Re:  zpool offline problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1383">[ date ]</a>
              <a href="thread.html#1383">[ thread ]</a>
              <a href="subject.html#1383">[ subject ]</a>
              <a href="author.html#1383">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
