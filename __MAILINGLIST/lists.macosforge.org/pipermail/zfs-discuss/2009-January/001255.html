<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] ZFS panics quite easily
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20ZFS%20panics%20quite%20easily&In-Reply-To=%3C0EBC7969-BE23-4027-8751-530CF1D94994%40chipmunk-app.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001253.html">
   <LINK REL="Next"  HREF="001256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] ZFS panics quite easily</H1>
    <B>Ruotger Skupin</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20ZFS%20panics%20quite%20easily&In-Reply-To=%3C0EBC7969-BE23-4027-8751-530CF1D94994%40chipmunk-app.com%3E"
       TITLE="[zfs-discuss] ZFS panics quite easily">lists at chipmunk-app.com
       </A><BR>
    <I>Mon Jan  5 01:47:44 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001253.html">[zfs-discuss] ZFS panics quite easily
</A></li>
        <LI>Next message: <A HREF="001256.html">[zfs-discuss] ZFS panics quite easily
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1255">[ date ]</a>
              <a href="thread.html#1255">[ thread ]</a>
              <a href="subject.html#1255">[ subject ]</a>
              <a href="author.html#1255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Am 04.01.2009 um 19:16 schrieb Alex Blewitt:

&gt;<i> On Sun, Jan 4, 2009 at 5:35 PM, Ruotger Skupin &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">lists at chipmunk-</A> 
</I>&gt;<i> app.com&gt; wrote:
</I>&gt;&gt;<i> from what I have read on the list it is a known bug that ZFS panics  
</I>&gt;&gt;<i> when an
</I>&gt;&gt;<i> external drive gets unpluggged (for whatever reason...).
</I>&gt;<i>
</I>&gt;<i> I suspect that's the case for a non-mirrored pool where the pool
</I>&gt;<i> effectively cannot continue. Having said that, there are times if an
</I>&gt;<i> external disk spins down (USB hard drives, I'm looking at you) which
</I>&gt;<i> makes the OS think that the drive has become disconnected, and so
</I>&gt;<i> panics. I've never experienced that on my FW drive. Not sure what
</I>&gt;<i> happens in the case of a raid-z setup.
</I>The first time I noticed this was when I was on a congress and someone  
cut my power. So the external USB-Drive was instantly gone (single  
device pool). The macbook kept running but paniced. Accidentally  
unplugging a drive is also a good candidate for a panic.

&gt;<i>
</I>&gt;&gt;<i> But apart from that ZFS seems to panic fairly easy when under heavy  
</I>&gt;&gt;<i> load.
</I>&gt;&gt;<i> For example I tried to install Ubuntu in a Virtual Box VM. Both the  
</I>&gt;&gt;<i> install
</I>&gt;&gt;<i> CD image file and the harddrive image file were on the same ZFS  
</I>&gt;&gt;<i> volume (pool
</I>&gt;&gt;<i> containing one drive). After what might have been 2/3 of the  
</I>&gt;&gt;<i> installation
</I>&gt;&gt;<i> ZFS paniced. I tried this twice and every time ZFS paniced.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My app Chipmunk (<A HREF="http://www.chipmunk-app.com">http://www.chipmunk-app.com</A>) also drives ZFS into  
</I>&gt;&gt;<i> a panic
</I>&gt;&gt;<i> sometimes on a well filled volume.
</I>&gt;<i>
</I>&gt;<i> I've had really bad experiences with USB drives, and only noticed
</I>&gt;<i> because ZFS started reporting shedloads of checksum errors. Have you
</I>&gt;<i> checked the pool status during your use? Also, is it a USB or FW
</I>&gt;<i> drive, and what version of OSX/ZFS have you got installed?
</I>USB-Drive with a SATA drive inside, Mac OS X 10.5.6 / ZFS 119 (lastest  
downloadable).

I'm doing a &quot;zpool status&quot; from time to time but I did not notice any  
errors on this drive ever. Not even after these panics. In that  
respect ZFS is the most robust FS I've ever seen.

Ruotger

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001253.html">[zfs-discuss] ZFS panics quite easily
</A></li>
	<LI>Next message: <A HREF="001256.html">[zfs-discuss] ZFS panics quite easily
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1255">[ date ]</a>
              <a href="thread.html#1255">[ thread ]</a>
              <a href="subject.html#1255">[ subject ]</a>
              <a href="author.html#1255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
