<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] speed? nah....
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20speed%3F%20nah....&In-Reply-To=%3CA878327F-6861-4D63-8FCF-D3A2FC938B2A%40halfpast.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001346.html">
   <LINK REL="Next"  HREF="001348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] speed? nah....</H1>
    <B>Jon Moog</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20speed%3F%20nah....&In-Reply-To=%3CA878327F-6861-4D63-8FCF-D3A2FC938B2A%40halfpast.net%3E"
       TITLE="[zfs-discuss] speed? nah....">jon at halfpast.net
       </A><BR>
    <I>Wed Jan 21 14:53:28 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001346.html">[zfs-discuss] speed? nah....
</A></li>
        <LI>Next message: <A HREF="001348.html">[zfs-discuss] speed? nope...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1347">[ date ]</a>
              <a href="thread.html#1347">[ thread ]</a>
              <a href="subject.html#1347">[ subject ]</a>
              <a href="author.html#1347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is not empirical but more anecdotal, however I have seen very  
poor performance with the Finder and ZFS volumes. It has been stated  
that the current Leopard releases are not optimized for performance  
but more an effort of bringing functionality. That being said I have  
seen good performance using command line tools that greatly eclipse  
the GUI performance. As for high end numbers, even given the lack of  
tuning and beta quality of the Leopard ZFS implementation the right  
hardware can get you over 1GB/Sec throughput. Even with a couple of  
internal 750 gig drives in a MacPro I consistently get 150MB/Sec which  
isn't much different than a HFS+ volume.

For the curious, the configuration was an xServe 2.8 x 8-way Xeon with  
8 x 4gb fiber channel 10 TB hardware raid units. Running as a stripe  
over 1GB/Sec was achieved and in a raidz it was closer to .5GB/Sec.

-Jon

On Jan 21, 2009, at 3:13 PM, Sterling Garwood wrote:

&gt;<i> I have been testing zfs on MacOSXLeopard (10.5.6) on a MDD (dual  
</I>&gt;<i> 1.25 Ghz ppc processors with 2 Gb memory).
</I>&gt;<i> I have a pair of firewire 500GB drives that have been mirrored under  
</I>&gt;<i> HFS+.
</I>&gt;<i> I broke the mirror, used diskutil and zfs to create a zfs volume on  
</I>&gt;<i> one of the two.
</I>&gt;<i> I am now in the process of copying the HFS+ drive to the zfs drive.
</I>&gt;<i> My plan is to then reformat the HFS drive and add it back as a  
</I>&gt;<i> mirror drive.
</I>&gt;<i>
</I>&gt;<i> Only issue (outside of Finder weirdness with zfs) is a slow copy ---
</I>&gt;<i> Finder drag and drop to copy says about 280,000 items for 417.16GB  
</I>&gt;<i> will take 7 hours!!
</I>&gt;<i> Thats slow.
</I>&gt;<i> Its Firewire 400 but still ... thats only 60 GB an hour or a GB a  
</I>&gt;<i> minute or less than 16 megabytes (128 megabits) per second on a 400  
</I>&gt;<i> megabit channel...
</I>&gt;<i> the drives are on separate firewire controllers so data movement in  
</I>&gt;<i> the machine and file system overhead is the prime suspect.
</I>&gt;<i> Any thoughts out there to speed it up?
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> zfs-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">zfs-discuss at lists.macosforge.org</A>
</I>&gt;<i> <A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss</A>
</I>&gt;<i>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001346.html">[zfs-discuss] speed? nah....
</A></li>
	<LI>Next message: <A HREF="001348.html">[zfs-discuss] speed? nope...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1347">[ date ]</a>
              <a href="thread.html#1347">[ thread ]</a>
              <a href="subject.html#1347">[ subject ]</a>
              <a href="author.html#1347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
