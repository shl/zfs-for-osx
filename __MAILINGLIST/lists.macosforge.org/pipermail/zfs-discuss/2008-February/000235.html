<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] ZFS,	VMware Fusion and poor Solaris install I/O performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%2C%0A%09VMware%20Fusion%20and%20poor%20Solaris%20install%20I/O%20performance&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000234.html">
   <LINK REL="Next"  HREF="000237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] ZFS,	VMware Fusion and poor Solaris install I/O performance</H1>
    <B>Phil Harman</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS%2C%0A%09VMware%20Fusion%20and%20poor%20Solaris%20install%20I/O%20performance&In-Reply-To="
       TITLE="[zfs-discuss] ZFS,	VMware Fusion and poor Solaris install I/O performance">Phil.Harman at Sun.COM
       </A><BR>
    <I>Fri Feb 29 06:24:08 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000234.html">[zfs-discuss] panic with VMware during zfs rollback
</A></li>
        <LI>Next message: <A HREF="000237.html">[zfs-discuss] Finder copy fails with &quot;File In Use&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#235">[ date ]</a>
              <a href="thread.html#235">[ thread ]</a>
              <a href="subject.html#235">[ subject ]</a>
              <a href="author.html#235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have VMware Fusion on MacOS 10.5.2 with the latest ZFS binaries.

As per my panic email, I'm attempting to install Solaris on an external 
firewire drive formatted with ZFS.

I've done several installs on my internal drive (formatted with HFS+) 
and they are pretty quick.

Installs on ZFS are very slow, and I've been intrigued by the following 
zpool iostats ...

               capacity     operations    bandwidth
pool         used  avail   read  write   read  write
----------  -----  -----  -----  -----  -----  -----
ext0        65.8G  82.2G    116     22  14.6M  1.52M
  disk1s2   65.8G  82.2G    116     22  14.6M  1.52M
----------  -----  -----  -----  -----  -----  -----

               capacity     operations    bandwidth
pool         used  avail   read  write   read  write
----------  -----  -----  -----  -----  -----  -----
ext0        65.8G  82.2G     98     26  12.2M  3.07M
  disk1s2   65.8G  82.2G     98     26  12.2M  3.07M
----------  -----  -----  -----  -----  -----  -----

               capacity     operations    bandwidth
pool         used  avail   read  write   read  write
----------  -----  -----  -----  -----  -----  -----
ext0        65.8G  82.2G     81     46  10.1M  3.73M
  disk1s2   65.8G  82.2G     81     46  10.1M  3.73M
----------  -----  -----  -----  -----  -----  -----

Basically, it's doing a lot more reading than writing. Yet this should 
me mostly write (it's an OS install).

I'm a big DTrace user in the Solaris domain, and I'd love to use DTrace 
to investigate this, but I don't see any probes with the string 'zfs' 
anywhere when I type ...

# dtrace -l | grep -i zfs

I'd also like to know what configuration and monitoring options I have 
on MacOS for the ARC etc.

Phil
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3383 bytes
Desc: S/MIME Cryptographic Signature
Url : <A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080229/dd04457b/attachment.bin">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20080229/dd04457b/attachment.bin</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000234.html">[zfs-discuss] panic with VMware during zfs rollback
</A></li>
	<LI>Next message: <A HREF="000237.html">[zfs-discuss] Finder copy fails with &quot;File In Use&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#235">[ date ]</a>
              <a href="thread.html#235">[ thread ]</a>
              <a href="subject.html#235">[ subject ]</a>
              <a href="author.html#235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
