<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] ZFS/TM/OSXS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS/TM/OSXS&In-Reply-To=8667C9C3-F67F-4830-9FB3-FD06D82BC6DF%40rehnmark.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000203.html">
   <LINK REL="Next"  HREF="000139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] ZFS/TM/OSXS</H1>
    <B>Chris Thompson</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=%5Bzfs-discuss%5D%20ZFS/TM/OSXS&In-Reply-To=8667C9C3-F67F-4830-9FB3-FD06D82BC6DF%40rehnmark.net"
       TITLE="[zfs-discuss] ZFS/TM/OSXS">thompson.chris.lists at gmail.com
       </A><BR>
    <I>Tue Feb  5 08:06:24 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000203.html">[zfs-discuss] ZFS/TM/OSXS
</A></li>
        <LI>Next message: <A HREF="000139.html">[zfs-discuss] ZFS/TM/OSXS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Time Machine does work on *non-sparse* HFS+ disk images created on top  
of a ZFS volume, provided that you enable  
TMShowUnsupportedNetworkVolumes.  I tried using Time Machine with  
*sparse* disk images on top of ZFS with the v101 seed and it was flaky  
(it seemed to work for a period and then became unreliable); that may  
be fixed in the current seed.

Do be aware that when TMShowUnsupportedNetworkVolumes is enabled, Time  
Machine cannot reclaim deleted space, so you have to manually run  
hdiutil compact every so often or eventually you'll start losing data  
when the drive fills.  See here for more:
<A HREF="http://www.macosxhints.com/article.php?story=20071028173642747">http://www.macosxhints.com/article.php?story=20071028173642747</A>

What I eventually settled on was repartitioning my disk to part ZFS  
and part HFS+, the latter used exclusively for Time Machine. This  
doesn't require enabling TMShowUnsupportedNetworkVolumes and seems to  
work without requiring hdiutil compact.

-- Chris
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000203.html">[zfs-discuss] ZFS/TM/OSXS
</A></li>
	<LI>Next message: <A HREF="000139.html">[zfs-discuss] ZFS/TM/OSXS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#138">[ date ]</a>
              <a href="thread.html#138">[ thread ]</a>
              <a href="subject.html#138">[ subject ]</a>
              <a href="author.html#138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
