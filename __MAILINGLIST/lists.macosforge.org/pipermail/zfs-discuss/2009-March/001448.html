<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [zfs-discuss] First time user: Some questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20First%20time%20user%3A%20Some%20questions&In-Reply-To=%3CA205CCC7-4693-4FCC-AC0F-093AA61599CD%40young-alumni.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001447.html">
   <LINK REL="Next"  HREF="001450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[zfs-discuss] First time user: Some questions</H1>
    <B>Chris Ruiz</B> 
    <A HREF="mailto:zfs-discuss%40lists.macosforge.org?Subject=Re%3A%20%5Bzfs-discuss%5D%20First%20time%20user%3A%20Some%20questions&In-Reply-To=%3CA205CCC7-4693-4FCC-AC0F-093AA61599CD%40young-alumni.com%3E"
       TITLE="[zfs-discuss] First time user: Some questions">chris at young-alumni.com
       </A><BR>
    <I>Sun Mar  1 14:49:30 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001447.html">[zfs-discuss] First time user: Some questions
</A></li>
        <LI>Next message: <A HREF="001450.html">[zfs-discuss] First time user: Some questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1448">[ date ]</a>
              <a href="thread.html#1448">[ thread ]</a>
              <a href="subject.html#1448">[ subject ]</a>
              <a href="author.html#1448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 1, 2009, at 4:32 PM, John Hendy wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sat, Feb 28, 2009 at 3:17 AM, Robert Muench &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">robert.muench at gmail.com</A> 
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> On Fri, Feb 27, 2009 at 7:53 PM, John Hendy &lt;<A HREF="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">jw.hendy at gmail.com</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; One thing I've found that I have not solved yet is how to share my  
</I>&gt;<i> zfs pool
</I>&gt;<i> &gt; [well] with FreeBSD, which I dual boot.
</I>&gt;<i>
</I>&gt;<i> Hi, is this a common &quot;problem/feature&quot; of ZFS or is it specific to  
</I>&gt;<i> FreeBSD?
</I>&gt;<i>
</I>&gt;<i> Not sure... I've only tried this with FreeBSD.
</I>
If you want to share the pool between operating systems, you need to  
'zpool export pool' on osx and 'zpool import -f pool' on freebsd.   
Never forget to export your pool, especially if you are using  
removable media.  You will need to use -f with import because the last  
system that used the pool is not the system trying to import the pool.

&gt;<i> &gt; To correctly do this, at least as
</I>&gt;<i> &gt; far as I've figured out, the zpool likes to be exported from the  
</I>&gt;<i> current OS
</I>&gt;<i> &gt; before rebooting to the other.
</I>&gt;<i>
</I>&gt;<i> But if you shutdown OS-1 isn't the pool exported correctly? So that
</I>&gt;<i> booting into OS-2 makes no problems? Or do you want to use the same
</I>&gt;<i> pool from two or more OS at the same time?
</I>&gt;<i>
</I>&gt;<i> I would think it gets exported, but from my experience, if I just  
</I>&gt;<i> reboot from OS X into FreeBSD and do 'zpool import pool', it says  
</I>&gt;<i> that it appears to be in use by another operating system. This makes  
</I>&gt;<i> me question whether OS X really exports on reboot/shutdown. Not sure  
</I>&gt;<i> how to check... I don't recall for sure, but I don't think that OS X  
</I>&gt;<i> ever complains one way or the other if I export from FreeBSD or not.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I also think that mounting is goofy in OS X with zfs. Every pool/ 
</I>&gt;<i> filesystem
</I>&gt;<i> &gt; should be handled by zfs, but to do certain things, you have to  
</I>&gt;<i> unmount it
</I>&gt;<i> &gt; before you can 'zfs unmount' it. It's like the mounting of OS X  
</I>&gt;<i> prevents zfs
</I>&gt;<i> &gt; from doing it's thing. I just might not know what I'm doing  
</I>&gt;<i> though...
</I>&gt;<i>
</I>&gt;<i> So, you first have to unmount from OSX and than you can ZFS-unmount
</I>&gt;<i> it? Hm... strange.
</I>&gt;<i>
</I>&gt;<i> Yup - 'zfs unmount pool' gives me 'cannot unmount /Volumes/pool;  
</I>&gt;<i> resource busy'
</I>
You cannot unmount a pool because a pool is not a filesystem.  Only  
filesystems may be unmounted.  Pools must be exported.  Please read  
the opensolaris documentation on ZFS, it seems that you are unfamiliar  
with how zfs works.  <A HREF="http://opensolaris.org/os/community/zfs/docs/">http://opensolaris.org/os/community/zfs/docs/</A>

&gt;<i> I just tried the PGP whole-disk-encryption on a ZFS pool. But via the
</I>&gt;<i> GUI itnerface it's not working. Here the output of PGP's enumeration
</I>&gt;<i> of disks:
</I>&gt;<i>
</I>&gt;<i> Total number of installed fixed/removable storage
</I>&gt;<i> device (excluding floppy and CDROM): 5
</I>&gt;<i>
</I>&gt;<i> Disk disk0 (wde enabled) has 1 online volumes:
</I>&gt;<i>  volume &quot;System&quot; (disk0s2) is on partition 2
</I>&gt;<i>
</I>&gt;<i> Disk disk1 has 0 online volumes:
</I>&gt;<i>
</I>&gt;<i> Disk disk2 (wde enabled) has 1 online volumes:
</I>&gt;<i>  volume &quot;Daten&quot; (disk2s2) is on partition 2
</I>&gt;<i>
</I>&gt;<i> Disk disk3 (wde enabled) has 1 online volumes:
</I>&gt;<i>  volume &quot;CORSAIR&quot; (disk3s1) is on partition 1
</I>&gt;<i>
</I>&gt;<i> Disk disk4 (wde enabled) has 1 online volumes:
</I>&gt;<i>  volume &quot;Backup&quot; (disk4s1) is on partition 1
</I>&gt;<i>
</I>&gt;<i> What's strange is, that disk1 (that's my ZFS volume) isn't recognized
</I>&gt;<i> as an online volume. Why this? Is this the cause why it's not shown on
</I>&gt;<i> the desktop etc.? Do I need to OSX-mount it beside ZFS-mounting?
</I>&gt;<i>
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt; Maybe this is not what you're looking for... but these are my  
</I>&gt;<i> thoughts!
</I>&gt;<i>
</I>&gt;<i> No problem, thanks for all the information. When starting with a new
</I>&gt;<i> filesystem more information is better then less :-)
</I>&gt;<i>
</I>&gt;<i> No problem. I love the resources and help from the online community  
</I>&gt;<i> so I figure I gotta pitch in whenever I find something I know even a  
</I>&gt;<i> little bit about!
</I>

Chris Ruiz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090301/188eda9c/attachment.html">http://lists.macosforge.org/pipermail/zfs-discuss/attachments/20090301/188eda9c/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001447.html">[zfs-discuss] First time user: Some questions
</A></li>
	<LI>Next message: <A HREF="001450.html">[zfs-discuss] First time user: Some questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1448">[ date ]</a>
              <a href="thread.html#1448">[ thread ]</a>
              <a href="subject.html#1448">[ subject ]</a>
              <a href="author.html#1448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.macosforge.org/mailman/listinfo.cgi/zfs-discuss">More information about the zfs-discuss
mailing list</a><br>
</body></html>
